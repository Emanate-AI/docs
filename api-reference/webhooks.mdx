---
title: "Webhooks"
description: "VAPI webhook handling"
---

# Webhooks

VAPI sends webhooks for call and chat events, enabling real-time processing of conversations.

### Webhook URL

Configure in VAPI dashboard or via assistant settings:

```
https://your-domain.com/api/webhooks/vapi
```

### Event Types

| Event | Description |
|-------|-------------|
| `assistant-request` | Call started, needs assistant |
| `function-call` | Tool invocation |
| `status-update` | Call status changed |
| `end-of-call-report` | Call completed |
| `transcript` | Transcript update |
| `hang` | Call hung up |
| `speech-update` | Speech detected |

### End-of-Call Report

Sent when a call completes:

```json
{
  "message": {
    "type": "end-of-call-report",
    "call": {
      "id": "call_123",
      "assistantId": "asst_456",
      "customer": {
        "number": "+14155551234"
      },
      "status": "ended",
      "startedAt": "2024-02-04T10:00:00Z",
      "endedAt": "2024-02-04T10:05:32Z",
      "transcript": "Agent: Hi, thanks for calling...",
      "recordingUrl": "https://..."
    },
    "structuredData": {
      "leadCapture": {
        "name": "John Smith",
        "email": "john@example.com",
        "company": "Acme Corp"
      }
    }
  }
}
```

### Handling Webhooks

```typescript
// app/api/webhooks/vapi/route.ts
import { NextRequest, NextResponse } from "next/server";

export async function POST(req: NextRequest) {
  const body = await req.json();
  
  switch (body.message?.type) {
    case "end-of-call-report":
      await handleEndOfCall(body.message);
      break;
    case "function-call":
      return handleFunctionCall(body.message);
    default:
      console.log("Unhandled event:", body.message?.type);
  }
  
  return NextResponse.json({ success: true });
}
```

### Function Call Handling

When an agent invokes a tool:

```json
{
  "message": {
    "type": "function-call",
    "functionCall": {
      "name": "check_inventory",
      "parameters": {
        "sku": "STL-BEAM-W8",
        "quantity": 100
      }
    }
  }
}
```

Response format:

```json
{
  "result": {
    "available": true,
    "quantity": 250,
    "location": "Chicago"
  }
}
```

## Next Steps

<CardGroup cols={2}>
  <Card title="API Overview" icon="code" href="/api-reference/overview">
    API introduction
  </Card>
  <Card title="Voice Agents" icon="phone" href="/agents/voice-agents">
    Configure agents
  </Card>
</CardGroup>
